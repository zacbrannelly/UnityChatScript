00003 Feb06'19-17:32:05 Thea 9.0
TOPIC: ~control 0x19 -1885039400 10 0 2177 simplecontrol.top
" all " ( $_responsecount ) 00! u: ( =8%input<%userfirstline ) ^gambit ( ~introductions ) `00A u: ( < shut_up > ) $shutup = 1 `00A u: ( < talk > ) $shutup = null `00G u: ( \[ callback \] ) Callback seen. `00G u: ( \[ loopback \] ) Loopback seen. `00A u: ( \[ alarm \] ) Alarm seen. `00^ u: ( < loopback test ) \[ loopback=1000 \] Loopback requested. `00^ u: ( < callback test ) \[ callback=1000 \] Callback requested. `00X u: ( < alarm test ) \[ alarm=5000 \] Alarm requested. `0mH u: ( ) $_responsecount = %response ^if 00n( $singleresponse ) 00v{ $_responsecount = 0 } 004 $$currenttopic = %topic ^if 00A( %response == $_responsecount ) 00I{ ^nofail ( TOPIC ^rejoinder ( ) ) } 004 ^if 00R( %length == 0 and %response == $_responsecount ) 00U{ ^nofail ( TOPIC ^gambit ( $$currenttopic ) ) } 004 ^if 00A( %response == $_responsecount ) 00V{ ^nofail ( TOPIC ^respond ( $$currenttopic ) ) } 004 ^if 00A( %response == $_responsecount ) 02F{ @8 = ^keywordtopics ( ) ^loop ( -1 ) 01^ { $$topic = ^first ( @8subject ) ^nofail ( TOPIC ^respond ( $$topic ) ) ^if 00A( %response != $_responsecount ) 00p{ ^end ( RULE ) } 004 } } 004 ^if 00A( %response == $_responsecount ) 00T{ ^nofail ( TOPIC ^respond ( ~keywordless ) ) } 004 ^if 00P( %response == $_responsecount and %rand > 50 ) 00T{ ^nofail ( TOPIC ^respond ( ~quibble_all ) ) } 004 ^if 00F( %outputrejoinder or %lastquestion ) 00q{ ^end ( TOPIC ) } 004 ^if 00%( %response == $_responsecount and ^marked ( $$currenttopic ) ) 00U{ ^nofail ( TOPIC ^gambit ( $$currenttopic ) ) } 004 ^if 00A( %response == $_responsecount ) 02E{ @8 = ^keywordtopics ( ) ^loop ( -1 ) 01% { $$topic = ^first ( @8subject ) ^nofail ( TOPIC ^gambit ( $$topic ) ) ^if 00A( %response != $_responsecount ) 00p{ ^end ( RULE ) } 004 } } 004 ^if 00A( %response == $_responsecount ) 00U{ ^nofail ( TOPIC ^gambit ( $$currenttopic ) ) } 004 ^if 00A( %response == $_responsecount ) 02C{ @8 = ^gambittopics ( ) ^loop ( -1 ) 01$ { $$topic = ^pick ( @8subject ) ^nofail ( TOPIC ^gambit ( $$topic ) ) ^if 00A( %response != $_responsecount ) 00p{ ^end ( RULE ) } 004 } } 004 ^if 00A( %response == $_responsecount ) 00N{ ^repeat ( ) I don't know what to say. } 004 `000 
TOPIC: ~xpostprocess 0x19 1992104424 1 1 338 simplecontrol.top
" all " 04o t: ( ^query ( direct_v ? chatoutput ? -1 ? @9 ) ) ^loop ( -1 ) 03v { $$tmp = ^last ( @9subject ) ^if 00O( ! %server and %os == windows and ! $shutup ) 00Y{ $$tmp = ^"talk \"$$tmp\" " ^popen ( $$tmp null ) } 004 ^if 00K( ! %server and %os == mac and ! $shutup ) 00U{ $$shellerror = ^system ( "^say \"$$tmp\" " ) } 004 } `000 
TOPIC: ~introductions 0x3 -1477064336 10 8 2259 main.top
" all " 01U t: ( =b$username==null ) [ Hello ] [ Hi ] [ G'day ] [ Hello there ] [ Why hello there ] , I'm Thea, the Virtual Receptionist! `01p t: ( clear ) ^keep ( ) $username = null $option = null $authenticated = false $question = null `00V t: ( authenticate ) ^keep ( ) $authenticated = true `02u s: ASTATEMENT_GREET ( person approached with name _~noun ) ^keep ( ) ^repeat ( ) $username = _0 $authenticated = true [ Hello $username ] [ G'day $username ] [ Hi $username ] `039 s: CSTATEMENT_GOODBYE ( person has left ) ^keep ( ) ^repeat ( ) [ Goodbye $username , have a good day! ] [ See ya $username , hope I was of some help! ] [ Have a good day! ] $username = null $authenticated = false $option = null `00$ t: =GAMBIT_NAME ( =b$username==null ) ^keep ( ) Who are you? `02P a: ( { I } { [ name_is ] [ be ] } _* { , } * ) $username = _0 [ Hello $username , its nice to meet you. ] [ G'day $username , its very nice to meet you. ] [ Hi $username , pleasure to meet you. ] `014 t: ?GAMBIT_OPTION ( =9$option==null ) ^keep ( ) What can I help you with? `00C a: ( * _~option * ) $option = _0 `02e t: CGAMBIT_OPTION_ASK ( =9$option?~question ) ^keep ( ) $option = null [ Sure thing ask away! ] [ What would you like to know? ] [ Ask me anything you like! ] `00$ a: ( _* ) $question = '_0 You asked the following: $question `06b t: DGAMBIT_OPTION_OPEN ( =9$option==open ) ^keep ( ) $option = null ^if 00u( $authenticated == true ) 02i{ [ Sure, opening the door now, have a good day! ] [ Opening the door now, have a wonderful day! ] [ Sure thing, requesting it to open now, have a good day! ] } 02E else ( 1 ) 02o { [ Sorry, you aren't authorized to make that request ] [ Sorry, I don't know you well enough for that! ] [ Very sorry, but you don't have the correct credentials ] } 004 `02f t: GGAMBIT_OPTION_MESSAGE ( =9$option==message ) ^keep ( ) $option = null [ What is the messsage? ] [ What would you like to say? ] [ Please say the message. ] `01u a: ( _* ) $message = '_0 [ Who are we sending this message to? ] [ Who do I need to send this to? ] `02M b: ( _* ) $recipient = _0 [ Alright, the message \" $message \" was sent to $recipient ] [ Sending \" $message \" to $recipient ] [ I will get \" $message \" to $recipient , have a good day! ] `000 
